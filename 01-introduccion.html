<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>1&nbsp; Introducción – Aprendizaje máquina no supervisado con R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./02-ml-no-supervisado.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-04e1f1103201cc0a83f720091ef4aae4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-introduccion.html">Fundamentos</a></li><li class="breadcrumb-item"><a href="./01-introduccion.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introducción</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Buscar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Aprendizaje máquina no supervisado con R</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prefacio</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Fundamentos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-introduccion.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introducción</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-ml-no-supervisado.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Aprendizaje máquina no supervisado</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Clustering</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-clust-part.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Clustering particionado</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-clust-jer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Clustering jerárquico</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-mapas-auto-org.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Mapas auto-organizados</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Reducción de dimensionalidad</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-reduccion-dim.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Reducción de la dimensionalidad</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-autocodificadores.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Autocodificaciores</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Aplicaciones</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Aplicaciones</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-add-resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Recursos adicionales</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Apéndices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-command-ref.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Referencia de comandos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./B-packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Paquetes R empleados</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-refs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referencias</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#tipos-de-aprendizaje-automático" id="toc-tipos-de-aprendizaje-automático" class="nav-link active" data-scroll-target="#tipos-de-aprendizaje-automático"><span class="header-section-number">1.1</span> Tipos de aprendizaje automático</a></li>
  <li><a href="#tareas-de-aprendizaje-automático-no-supervisado" id="toc-tareas-de-aprendizaje-automático-no-supervisado" class="nav-link" data-scroll-target="#tareas-de-aprendizaje-automático-no-supervisado"><span class="header-section-number">1.2</span> Tareas de aprendizaje automático no supervisado</a>
  <ul class="collapse">
  <li><a href="#clustering" id="toc-clustering" class="nav-link" data-scroll-target="#clustering"><span class="header-section-number">1.2.1</span> Clustering</a></li>
  <li><a href="#reducción-de-dimensionalidad" id="toc-reducción-de-dimensionalidad" class="nav-link" data-scroll-target="#reducción-de-dimensionalidad"><span class="header-section-number">1.2.2</span> Reducción de dimensionalidad</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-introduccion.html">Fundamentos</a></li><li class="breadcrumb-item"><a href="./01-introduccion.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introducción</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introducción</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Existen muchas definiciones complementarias sobre la Inteligencia Artificial (IA), cada una reflejo de un modo diferente de aproximarse al complejo problema de crear máquinas que puedan imitar la inteligencia humana <span class="citation" data-cites="russell2010">(<a href="references.html#ref-russell2010" role="doc-biblioref">Russell &amp; Norvig, 2009</a>)</span>. Por ejemplo, en el artículo de Wikipedia sobre IA se define de la siguiente forma <a href="https://es.wikipedia.org/wiki/Inteligencia_artificial">enlace</a>:</p>
<blockquote class="blockquote">
<p>La inteligencia artificial, abreviado como IA, en el contexto de las ciencias de la computación, es una disciplina y un conjunto de capacidades cognoscitivas e intelectuales expresadas por sistemas informáticos o combinaciones de algoritmos cuyo propósito es la creación de máquinas que imiten la inteligencia humana.</p>
</blockquote>
<p>En 1950, Alan Turing propuso el llamado <strong>Test de Turing</strong> para proporcionar una definción operativa satisfactoria sobre “inteligencia”. En teoría, un computador supera el test si un interrogador humano, después de plantear varias preguntas, no es capaz de discernir si las respuestas escritas provienen de una persona o de un computador. Para poder superar el test, un computador necesitaría incluir muchas habilidades. Aunque el test original no lo contemplaba, el llamado <strong>Test de Turing total</strong> incorpora una señal de vídeo para que el interrogador pueda evaluar las habilidades de percepción y reacción físicas del sujeto. Entre otros aspectos, esto implica contar con habilidades como:</p>
<ul>
<li><em>Procesamiento de lenguaje natural</em> (NLP), que permite a una máquina entender y comunicarse correctamente, de forma verbal y/o por escrito en uno o varios idiomas.</li>
<li><em>Representación del conocimiento</em>, para almacenar lo aprendido de forma organizada.</li>
<li><em>Razonamiento automático</em> para emplear la información almacenada en responder a prenguntas y extraer nuevas conclusiones.</li>
<li><em>Aprendizaje máquina</em>, para adaptarse a nuevas circunstancias y detectar y extrapolar patrones, a partir de datos previos que describan un problema o describiendo datos nuevos.</li>
<li><em>Visión computacional</em>, para percibir e interpretar imágenes y su contenido.</li>
<li><em>Robótica</em>, para maninpular objetos y poder moverse.</li>
</ul>
<p>Por tanto, vemos que el <strong>aprendizaje automático</strong> (<em>machine learning</em> o ML en inglés) es una rama de la IA que tiene por objetivo el desarrollo de técnicas y métodos para que las computadoras aprendan. Un <strong>agente</strong> inteligente aprende cuando es capaz de mejorar su rendimiento a partir de la experiencia y de la información extraída de datos.</p>
<section id="tipos-de-aprendizaje-automático" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="tipos-de-aprendizaje-automático"><span class="header-section-number">1.1</span> Tipos de aprendizaje automático</h2>
<p>Existe una taxonomía ampliamente aceptada para clasificar las diferentes aproximaciones para resolver el problema del aprendizaje automático <span class="citation" data-cites="russell2010">(<a href="references.html#ref-russell2010" role="doc-biblioref">Russell &amp; Norvig, 2009</a>)</span>:</p>
<ul>
<li><strong>Aprendizaje supervisado</strong>: el agente observa algunos ejemplos de parejas de valores entrada-salida y aprende una función que mapea nuevas entradas a nuevos valores de salida.</li>
<li><strong>Aprendizaje no supervisado</strong>: el agente debe descubrir patrones o similitudes entre los valores de entrada aunque no se le haya facilitado ningún tipo de información adicional.</li>
<li><strong>Aprendizaje semisupervisado</strong>: combina los dos anteriores, puesto que el agente recibe sólo unos pocos ejemplos y, a partir de ellos, tiene que hacer lo posible por descubrir patrones en una colección de ejemplos no etiquetados o explicados.</li>
<li><strong>Aprendizaje por refuerzo</strong>: el método de aprendizaje implica que el agente reciba premios o castigos. Por ejemplo, si un agente aprende a jugar al ajedrez y recibe dos puntos por haber ganado una partida, deduce que lo ha hecho bien. Por contra, si un agente de conducción registra un aviso de choque recibe una penalización para indicarle que lo ha hecho mal.</li>
</ul>
</section>
<section id="tareas-de-aprendizaje-automático-no-supervisado" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="tareas-de-aprendizaje-automático-no-supervisado"><span class="header-section-number">1.2</span> Tareas de aprendizaje automático no supervisado</h2>
<section id="clustering" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="clustering"><span class="header-section-number">1.2.1</span> Clustering</h3>
<p>El agrupamiento o <em>clustering</em> es una tarea que tiene por objetivo agrupar los datos en función del grado de <strong>similaridad</strong> (semejanza) que existe entre los elementos de un <em>dataset</em>. Por lo tanto, lo primero que debemos hacer es definir qué es una función de similaridad y su relación con la función de distancia.</p>
<p>Consideremos un conjunto <span class="math inline">\(\mathcal{X}\)</span> de <span class="math inline">\(n\)</span> elementos, descritos por una serie de <span class="math inline">\(d\)</span> variables, <span class="math inline">\(\{x_1, x_2,\dots, x_d \}\)</span>. Suponiendo que todas esas variables se pueden expresar mediante valores numéricos reales, cada elemento del conjunto <span class="math inline">\(\mathcal{X}\)</span> quedaría pues representado en un espacio <span class="math inline">\(\mathbb{R}^d\)</span>. Una <strong>función de similaridad</strong> es una aplicación <span class="math inline">\(s: \mathbb{R}^d \times \mathbb{R}^d \rightarrow \mathbb{R}\)</span> que cumple estas propiedades para tres elementos <span class="math inline">\(A, B\)</span> y <span class="math inline">\(C\)</span> de <span class="math inline">\(\mathcal{X}\)</span> <span class="citation" data-cites="xu2009clustering">(<a href="references.html#ref-xu2009clustering" role="doc-biblioref">Xu &amp; II, 2009</a>)</span>:</p>
<ol type="1">
<li><em>Positividad</em>: <span class="math inline">\(0 \leq s(A,B) \leq 1,\; \forall A,B\)</span>.</li>
<li><em>Simetría</em>: <span class="math inline">\(s(A,B) = s(B,A)\)</span>.</li>
</ol>
<p>Si además cumple las siguientes propiedades:</p>
<ol start="3" type="1">
<li><span class="math inline">\(s(A,B)S(B,C) \leq \[S(A,B)+S(B,C)\]S(A,C)\)</span>;</li>
<li><em>Reflexividad</em>: <span class="math inline">\(S(A,B)=1 \Leftrightarrow A=B\)</span>,</li>
</ol>
<p>entonces se denomina <strong>métrica de similaridad</strong>.</p>
<p>Por tanto, la similaridad cuantifica cómo de parecidos son dos elementos de un conjunto de datos, según los valores de las variables que los describen. Existen definiciones análogas para determinar las propiedades de una función de similaridad con otros tipos de variables (por ejemplo, categóricas u ordinales). La noción opuesta a la expresada por la <strong>similaridad</strong> es la <strong>disimilaridad</strong>, que cuantifica lo alejados o diferentes que son dos elementos de <span class="math inline">\(\mathcal{X}\)</span> entre sí. Es sencillo obtener una función de disimilaridad a partir de la función de similaridad, puesto que está normalizada.</p>
<p>Si denotamos la <strong>función de disimilaridad</strong> como <span class="math inline">\(\delta(A,B)\)</span> esta se puede obtener como:</p>
<p><span class="math display">\[
\delta(A,B) = 1 - S(A,B).
\]</span></p>
<p>Una <strong>función de distancia</strong>, que podemos denotar como <span class="math inline">\(DdA,B)\)</span> mide también lo distintos que son entre sí una pareja de elementos <span class="math inline">\((A,B)\)</span> de <span class="math inline">\(\mathcal{X}\)</span>. En el caso de las <strong>distancias métricas</strong>, éstas cumplen cuatro propiedades de los espacios métricos <span class="citation" data-cites="skopal2007">(<a href="references.html#ref-skopal2007" role="doc-biblioref">Skopal, 2007</a>)</span>:</p>
<ul>
<li><em>Reflexividad</em>: <span class="math inline">\(d(A,B) = 0 \Leftrightarrow A = B\)</span>.</li>
<li><em>No negatividad</em>: <span class="math inline">\(d(A,B) &gt; 0 \Leftrightarrow A \neq B\)</span>.</li>
<li><em>Simetría</em>: <span class="math inline">\(d(A,B) = D(B,A)\)</span>.</li>
<li><em>Desigualdad triangular</em>: <span class="math inline">\(d(A,B) + d(B,C) \geq d(A,C)\)</span>.</li>
</ul>
<p>En lo sucesivo, vamos a circunscribir nuestra descripción a las distancias <em>métricas</em>, puesto que se utilizan en un gran número de problemas prácticos y simplificarán muchas consideraciones que haremos respecto de los algoritmos de <em>clustering</em> que vamos a tratar. Por ejemplo, una familia de distancias ampliamente conocida es la representada por la <strong>distancia Minkowski</strong> de <em>orden</em> <span class="math inline">\(p &gt; 0\)</span>, que se define como:</p>
<p><span id="eq-mink-dist"><span class="math display">\[
d_{Mink}(A,B) = \left( \sum_{j=1}^d |x_{Aj}-x_{Bj}|^p \right)^{1/p},
\tag{1.1}\]</span></span></p>
<p>siendo <span class="math inline">\(\|A\|_p = \left( \sum_{j=1}^d |x_{Aj}|^p \right)^{1/p}\)</span> la <em>norma</em> <span class="math inline">\(p* (denotada muchas veces como\)</span>L_p$) del vector A. Así, para <span class="math inline">\(p=1\)</span> tenemos la <em>distancia Manhattan</em> (<span class="math inline">\(L_1\)</span>), mientras que para <span class="math inline">\(p=2\)</span> tenemos la popular <em>distancia Euclídea</em> (<span class="math inline">\(L_2\)</span>).</p>
<p>Se denomina <strong>matriz de distancias</strong> a una matriz <span class="math inline">\(D=(d_{E_{i}E_{j}});\, i,j=1,\dots,n\)</span> que contiene todas las distancias entre cada par de elementos <span class="math inline">\((E_i,E_j)\)</span> de <span class="math inline">\(\mathcal{X}\)</span>. Siempre que la función de distancia utilizada cumpla la propiedad de <em>simetría</em>, esta matriz será <em>triangular</em>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Distancias no métricas
</div>
</div>
<div class="callout-body-container callout-body">
<p>Aunque es muy habitual utilizar distancias <em>métricas</em> en los problemas de <em>clustering</em> y de búsqueda por similaridad, también existen muchas funciones de distancia de gran utilidad en muchos problemas que no cumplen las cuatro propiedades enunciadas <span class="citation" data-cites="skopal2007">(<a href="references.html#ref-skopal2007" role="doc-biblioref">Skopal, 2007</a>)</span>. Por ejemplo, las <em>semimétricas</em> son distancias que no cumplen la cuarta propiedad de desigualdad triangular. Por otro lado, las <em>pseudométricas</em> no satisfacen la reflexividad. Por último, las <em>cuasimétricas</em> no satisfacen la simetría.</p>
</div>
</div>
<section id="algunas-funciones-de-distancia" class="level4" data-number="1.2.1.1">
<h4 data-number="1.2.1.1" class="anchored" data-anchor-id="algunas-funciones-de-distancia"><span class="header-section-number">1.2.1.1</span> Algunas funciones de distancia</h4>
<p>La <a href="#tbl-distance-funcs" class="quarto-xref">Tabla&nbsp;<span>1.1</span></a> resume información básica sobre algunas funciones de distancia comúnmente empleadas.</p>
<div id="tbl-distance-funcs" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-distance-funcs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabla&nbsp;1.1: Algunas funciones de distancia muy frecuentes.
</figcaption>
<div aria-describedby="tbl-distance-funcs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 17%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Función distancia</th>
<th style="text-align: center;">Es métrica</th>
<th style="text-align: left;">Aplicaciones</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Manhattan (<em>city block</em>)</td>
<td style="text-align: center;">Sí</td>
<td style="text-align: left;">Multiples: análisis de imagen, tiempos de viaje</td>
</tr>
<tr class="even">
<td style="text-align: left;">Euclídea</td>
<td style="text-align: center;">Sí</td>
<td style="text-align: left;">Una de las funciones más utilizadas</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Minkowski</td>
<td style="text-align: center;">Sí, <span class="math inline">\(p\geq1\)</span></td>
<td style="text-align: left;">Generalización de funciones de disancia básicas</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mahalanobis</td>
<td style="text-align: center;">Sí</td>
<td style="text-align: left;">Comparación entre distribuciones de valores</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Similaridad del coseno</td>
<td style="text-align: center;">No(*)</td>
<td style="text-align: left;">Agrupamiento y comparación de documentos</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jaccard</td>
<td style="text-align: center;">Sí</td>
<td style="text-align: left;">Datos binarios en ecología, genómica, etc.</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>(*): Se puede efectuar una trasnformación a una distancia “comparable” que sí cumple las propiedades de métrica.</p>
</section>
<section id="tipos-de-clustering" class="level4" data-number="1.2.1.2">
<h4 data-number="1.2.1.2" class="anchored" data-anchor-id="tipos-de-clustering"><span class="header-section-number">1.2.1.2</span> Tipos de clustering</h4>
<p>En general, las estrategias de aprendizaje no supervisado para clustering se pueden clasificar en dos grandes grupos, cuyo enfoque conceptual se ilustra en la <a href="#fig-types-clustering" class="quarto-xref">Figura&nbsp;<span>1.1</span></a>.</p>
<div id="fig-types-clustering" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-types-clustering-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/types-clustering.png" class="img-fluid figure-img" style="width:95.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-types-clustering-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;1.1: Ilustración de los dos posibles tipos de algoritmos de clustering: (izq.) jerárquico; (dcha.) no jerárquico o partitivo. Fuente: Figura 12.2 de <span class="citation" data-cites="nwanganga2020">(<a href="references.html#ref-nwanganga2020" role="doc-biblioref">Nwanganga &amp; Chapple, 2020</a>)</span>.
</figcaption>
</figure>
</div>
<ul>
<li><p><strong>Clustering jerárquico</strong>: en este enfoque, el algoritmo genera grupos de elementos que están contenidos unos dentro de los otros. Por lo tanto, los límites de un agrupamiento pueden estar dentro de los límites de otra agrupación de mayor nivel, creando una jerarquía de relaciones padre-hijo entre los <em>clústeres</em>. Esta relación se suele representar gráficamente por medio de un diagrama de árbol que se denomina <strong>dendograma</strong>.</p></li>
<li><p><strong>Clustering no jerárquico</strong> (<em>partitional</em>): la estrategia de este tipo de algoritmos consiste en particionar el espacio de representación de un cierto número de grupos, siendo uno de los objetivos conseguir que no exista solape entre los grupos identificados y, por tanto, cada grupo es independiente del resto.</p></li>
</ul>
<p>Por ejemplo, la <a href="#fig-voronoi-tess" class="quarto-xref">Figura&nbsp;<span>1.2</span></a> muestra las regiones determinadas por un algoritmo no jerárquico como <em>k</em>-means cuando divide el espacio de representación (asumimos que bidimensional) en varias regiones, asignando un punto representativo o <em>centroide</em> a cada región.</p>
<div id="fig-voronoi-tess" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-voronoi-tess-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/Euclidean_Voronoi_diagram.svg.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-voronoi-tess-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;1.2: Ilustración de un diagrama o <em>tesela</em> de Voronoi, usando la distancia Euclídea. Fuente: Wikipedia.
</figcaption>
</figure>
</div>
<p>Por último, tenemos otra taxonomía de algoritmos de <em>clustering</em> en función de si los agrupamientos pueden o no tener solapes entre sí, como muestra la <a href="#fig-types-clustering-overlap" class="quarto-xref">Figura&nbsp;<span>1.3</span></a>.</p>
<div id="fig-types-clustering-overlap" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-types-clustering-overlap-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/types-clustering-overlapping.png" class="img-fluid figure-img" style="width:95.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-types-clustering-overlap-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;1.3: Ilustración de dos posibles tipos de algoritmos de clustering: (izq.) con solape entre grupos; (dcha.) sin solape entre grupos. Fuente: Figura 12.3 de <span class="citation" data-cites="nwanganga2020">(<a href="references.html#ref-nwanganga2020" role="doc-biblioref">Nwanganga &amp; Chapple, 2020</a>)</span>.
</figcaption>
</figure>
</div>
</section>
</section>
<section id="reducción-de-dimensionalidad" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="reducción-de-dimensionalidad"><span class="header-section-number">1.2.2</span> Reducción de dimensionalidad</h3>
<p>Otra tarea muy habitual en el aprendizaje automático no supervisado es la de expresar un conjunto de datos de manera más eficiente, reduciendo el número de variables que se emplean para describir sus elementos. Para ello, se busca identificar un conjunto más pequeño de variables, que se suelen denominar <em>componentes principales</em> o <em>variables latentes</em>. Estas nuevas variables deben ser capaces de capturar la misma cantidad de información sobre los elementos de nuestro conjunto de datos pero en un espacio de representación con muchas menos dimensiones.</p>
<p>Consideremos el <a href="https://es.wikipedia.org/wiki/Base_de_datos_MNIST">dataset MNIST</a>, que contiene 60.000 imágenes de entrenamiento y 10.000 imágenes de prueba, cada una de ellas con información sobre imágenes de dígitos manuscritos sobre una malla de 28x28 píxeles. Por tanto, cada elemento de este dataset está representado por 784 variables (una por cada pixel). La <a href="#fig-mnist-digits" class="quarto-xref">Figura&nbsp;<span>1.4</span></a> muestra algunos ejemplos de estas cifras manuscritas incluidas en el <em>dataset</em>.</p>
<div id="fig-mnist-digits" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-mnist-digits-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/MNIST-digits.png" class="img-fluid figure-img" style="width:95.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mnist-digits-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;1.4: Ejemplos de algunos de los dígitos manuscritos incluidos en el dataset MNIST.
</figcaption>
</figure>
</div>
<p>Sería muy complicado conseguir la representación gráfica de todos estos elementos para detectar las imágenes de dígitos que son parecidas entre sí (por ejemplo, un grupo con los números <code>4</code>, otro con los números <code>8</code>, etc.). Las técnicas de reducción de dimensionalidad nos permiten proyectar la representación original de estos datos en un espacio <span class="math inline">\(\mathbb{R}^784\)</span> sobre un espacio <span class="math inline">\(\mathbb{R}^2\)</span>, que sí podemos representar gráficamente.</p>
<p>Por ejemplo, la <a href="#fig-mnist-tsne" class="quarto-xref">Figura&nbsp;<span>1.5</span></a> muestra una representación gráfica en 2D de una muestra aleatoria de elementos de MNIST, en la que previamente se han reducido las 784 dimensiones originales a 2 mediante el algoritmo t-SNE <span class="citation" data-cites="maaten2008visualizing">(<a href="references.html#ref-maaten2008visualizing" role="doc-biblioref">Maaten &amp; Hinton, 2008</a>)</span>.</p>
<div id="fig-mnist-tsne" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-mnist-tsne-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/MNIST-tSNE.png" class="img-fluid figure-img" style="width:95.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mnist-tsne-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;1.5: Representación gráfica de la proyección 2D de una muestra de elementos del conjunto de datos MNIST, obtenida mediante el algoritmo t-SNE <span class="citation" data-cites="maaten2008visualizing">(<a href="references.html#ref-maaten2008visualizing" role="doc-biblioref">Maaten &amp; Hinton, 2008</a>)</span>. Fuente: elaboración propia.
</figcaption>
</figure>
</div>
<p>Veremos que una limitación importante de estos algoritmos consiste en que las variables que obtenemos tras la reducción de las dimensiones originales no son, en muchos casos, fácilmente interpretables.</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-maaten2008visualizing" class="csl-entry" role="listitem">
Maaten, L. van der, &amp; Hinton, G. (2008). Visualizing data using t-SNE. <em>Journal of machine learning research</em>, <em>9</em>(Nov), 2579-2605.
</div>
<div id="ref-nwanganga2020" class="csl-entry" role="listitem">
Nwanganga, F., &amp; Chapple, M. (2020). <em>Practical Machine Learning in R</em> (1.ª ed.). John Wiley &amp; Sons, Inc. <a href="https://www.wiley.com/en-us/Practical+Machine+Learning+in+R-p-9781119591535">https://www.wiley.com/en-us/Practical+Machine+Learning+in+R-p-9781119591535</a>
</div>
<div id="ref-russell2010" class="csl-entry" role="listitem">
Russell, S., &amp; Norvig, P. (2009). <em>Artificial Intelligence: A Modern Approach</em> (3.ª ed.). Prentice Hall Press.
</div>
<div id="ref-skopal2007" class="csl-entry" role="listitem">
Skopal, T. (2007). Unified framework for fast exact and approximate search in dissimilarity spaces. <em><span>ACM</span> Transactions on Database Systems</em>, <em>32</em>(4), 29. <a href="https://doi.org/10.1145/1292609.1292619">https://doi.org/10.1145/1292609.1292619</a>
</div>
<div id="ref-xu2009clustering" class="csl-entry" role="listitem">
Xu, R., &amp; II, D. C. W. (2009). <em><span>Clustering</span></em>. Wiley-IEEE Press. <a href="https://ieeexplore.ieee.org/book/5236612">https://ieeexplore.ieee.org/book/5236612</a>
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Prefacio">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Prefacio</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./02-ml-no-supervisado.html" class="pagination-link" aria-label="Aprendizaje máquina no supervisado">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Aprendizaje máquina no supervisado</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>